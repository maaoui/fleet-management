<div class="modal-header">
  <h3 class="modal-title">{{"ADMIN_VIEW.MODALS.ADD_CAR_PART_EXPENSE_MODAL.TITLE" | translate}}</h3>
</div>
<div class="modal-body">
  <form [formGroup]="carPartExpenseForm" class="form-signin" (ngSubmit)="onSavePress()" autocomplete="off">
    <div>
      <p class="list-group-item-text">
        <b>{{"ADMIN_VIEW.MODALS.ADD_CAR_PART_EXPENSE_MODAL.VALUE" | translate}}:</b>
      </p>
      <div class="form-group">
        <input formControlName="value" type="number" class="form-control" name="value"/>
      </div>
      <div *ngIf="carPartExpenseForm.controls['value'].errors" class="alert-danger">
        <div *ngIf="carPartExpenseForm.controls['value'].errors.required">
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          {{"ADMIN_VIEW.MODALS.VALIDATION.REQUIRED" | translate }}
        </div>
        <div *ngIf="carPartExpenseForm.controls['value'].errors.minlength">
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          {{"ADMIN_VIEW.MODALS.VALIDATION.MIN_LENGTH" | translate }}
        </div>
      </div>
    </div>
    <div>
      <p class="list-group-item-text">
        <b>{{"ADMIN_VIEW.MODALS.ADD_CAR_PART_EXPENSE_MODAL.CURRENCY" | translate}}:</b>
      </p>
      <div class="form-group">
        <input formControlName="currency" type="text" class="form-control" name="currency"
               [minLength]="this.getCurrencyLength()" [maxLength]="getCurrencyLength()"/>
      </div>
      <div *ngIf="carPartExpenseForm.controls['currency'].errors" class="alert-danger">
        <div *ngIf="carPartExpenseForm.controls['currency'].errors.required">
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          {{"ADMIN_VIEW.MODALS.VALIDATION.REQUIRED" | translate }}
        </div>
        <div *ngIf="carPartExpenseForm.controls['currency'].errors.minlength">
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          {{"ADMIN_VIEW.MODALS.VALIDATION.MIN_LENGTH" | translate }}
        </div>
        <div *ngIf="carPartExpenseForm.controls['currency'].errors.minlength">
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          {{"ADMIN_VIEW.MODALS.VALIDATION.MAX_LENGTH" | translate }}
        </div>
      </div>
    </div>
    <div>
      <p class="list-group-item-text">
        <b>{{"ADMIN_VIEW.MODALS.ADD_CAR_PART_EXPENSE_MODAL.DATE" | translate}}:</b>
      </p>
      <div class="form-group">
        <div class="input-group">
          <input class="form-control" placeholder="yyyy-mm-dd" formControlName="date"
                 name="dp1" ngbDatepicker #dt1="ngbDatepicker">
          <div class="input-group-append">
            <button class="btn btn-outline-secondary calendar" (click)="dt1.toggle()" type="button"></button>
          </div>
        </div>
      </div>
      <div *ngIf="carPartExpenseForm.controls['date'].errors" class="alert-danger">
        <div *ngIf="carPartExpenseForm.controls['date'].errors.required">
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          {{"ADMIN_VIEW.MODALS.VALIDATION.REQUIRED" | translate }}
        </div>
      </div>
    </div>
    <div>
      <p class="list-group-item-text">
        <b>{{"ADMIN_VIEW.MODALS.ADD_CAR_PART_EXPENSE_MODAL.COMMENT" | translate}}:</b>
      </p>
      <div class="form-group">
        <label class="textarea--label--container">
          <textarea class="form-control" rows="4" formControlName="comment"></textarea>
        </label>
      </div>
      <div *ngIf="carPartExpenseForm.controls['comment'].errors" class="alert-danger">
        <div *ngIf="carPartExpenseForm.controls['comment'].errors.required">
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          {{"ADMIN_VIEW.MODALS.VALIDATION.REQUIRED" | translate }}
        </div>
      </div>
    </div>
    <div>
      <p class="list-group-item-text">
        <b>{{"ADMIN_VIEW.MODALS.ADD_CAR_PART_EXPENSE_MODAL.CURRENT_KILOMETRAGE" | translate}}:</b>
      </p>
      <div class="form-group">
        <input formControlName="currentKilometrage" type="number" class="form-control"
               name="currentKilometrage" pattern="[0-9]*"/>
      </div>
      <div *ngIf="carPartExpenseForm.controls['currentKilometrage'].errors" class="alert-danger">
        <div *ngIf="carPartExpenseForm.controls['currentKilometrage'].errors.required">
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          {{"ADMIN_VIEW.MODALS.VALIDATION.REQUIRED" | translate }}
        </div>
        <div *ngIf="carPartExpenseForm.controls['currentKilometrage'].errors.pattern">
          <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
          {{"ADMIN_VIEW.MODALS.VALIDATION.WRONG_VALUE" | translate }}
        </div>
      </div>
    </div>
    <div formGroupName="carPart">
      <p class="list-group-item-text">
        <b>{{"ADMIN_VIEW.MODALS.ADD_CAR_PART_EXPENSE_MODAL.CAR_PART" | translate}}:</b>
      </p>
      <div class="carpart--input--container">
        <div>
          <p class="list-group-item-text">
            <b>{{"ADMIN_VIEW.MODALS.ADD_CAR_PART_EXPENSE_MODAL.PART_TYPE" | translate}}:</b>
          </p>
          <div class="form-group">
            <select class="form-control" formControlName="partType" name="partType">
              <option *ngFor="let carPartType of partTypeValues">{{carPartType}}</option>
            </select>
          </div>

          <div *ngIf="carPartExpenseForm.controls.carPart['controls']['partType'].errors" class="alert-danger">
            <div *ngIf="carPartExpenseForm.controls.carPart['controls']['partType'].errors.required">
              <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
              {{"ADMIN_VIEW.MODALS.VALIDATION.REQUIRED" | translate }}
            </div>
          </div>
        </div>
        <div>
          <div>
            <p class="list-group-item-text">
              <b>{{"ADMIN_VIEW.MODALS.ADD_CAR_PART_EXPENSE_MODAL.PART_NAME" | translate}}:</b>
            </p>
            <div class="form-group">
              <input formControlName="name" type="text" class="form-control"
                     name="name" [minLength]="getMinCommentSize()" [maxLength]="getPartNameMaxLength()"/>
            </div>
            <div *ngIf="carPartExpenseForm.controls.carPart['controls']['name'].errors" class="alert-danger">
              <div *ngIf="carPartExpenseForm.controls.carPart['controls']['name'].errors.required">
                <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                {{"ADMIN_VIEW.MODALS.VALIDATION.REQUIRED" | translate }}
              </div>
              <div *ngIf="carPartExpenseForm.controls.carPart['controls']['name'].errors['minlength']">
                <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                {{"ADMIN_VIEW.MODALS.VALIDATION.MIN_LENGTH" | translate }}
              </div>
              <div *ngIf="carPartExpenseForm.controls.carPart['controls']['name'].errors['maxlength']">
                <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                {{"ADMIN_VIEW.MODALS.VALIDATION.MAX_LENGTH" | translate }}
              </div>
            </div>
          </div>
        </div>
        <div>
          <div>
            <p class="list-group-item-text">
              <b>{{"ADMIN_VIEW.MODALS.ADD_CAR_PART_EXPENSE_MODAL.PART_DESCRIPTION" | translate}}:</b>
            </p>
            <div class="form-group">
              <label class="textarea--label--container">
              <textarea formControlName="description" class="form-control" rows="4"
                        name="description" [minLength]="getMinCommentSize()"
                        [maxLength]="getPartDescriptionMaxLength()"></textarea>
              </label>
            </div>
            <div *ngIf="carPartExpenseForm.controls.carPart['controls']['description'].errors" class="alert-danger">
              <div *ngIf="carPartExpenseForm.controls.carPart['controls']['description'].errors.required">
                <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                {{"ADMIN_VIEW.MODALS.VALIDATION.REQUIRED" | translate }}
              </div>
              <div *ngIf="carPartExpenseForm.controls.carPart['controls']['description'].errors['minlenth']">
                <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                {{"ADMIN_VIEW.MODALS.VALIDATION.MIN_LENGTH" | translate }}
              </div>
              <div *ngIf="carPartExpenseForm.controls.carPart['controls']['description'].errors['maxlength']">
                <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
                {{"ADMIN_VIEW.MODALS.VALIDATION.MAX_LENGTH" | translate }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button type="submit" class="btn btn-success" [disabled]="!this.carPartExpenseForm.valid">
        <i class="far fa-save"></i>  {{"UNIVERSAL.SAVE" | translate}} </button>
      <button type="button" class="btn btn-danger" (click)="onCancelPress()">
        <i class="far fa-times-circle"></i>  {{"UNIVERSAL.CANCEL" | translate}} </button>
    </div>
  </form>
</div>
