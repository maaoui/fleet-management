package pl.buczak.kacper.fleetmanagement.service.exploatation;

import org.modelmapper.ModelMapper;
import org.springframework.stereotype.Service;
import pl.buczak.kacper.fleetmanagement.entity.dao.exploatation.ExploatationReport;
import pl.buczak.kacper.fleetmanagement.entity.dto.exploatation.ExploatationReportDTO;
import pl.buczak.kacper.fleetmanagement.repository.exploatation.ExploatationReportRepository;

/*
    @author Kacper Buczak 
*/
@Service
public class ExploitationService {

    private ExploatationReportRepository exploatationReportRepository;
    private ModelMapper modelMapper;

    public ExploitationService(ExploatationReportRepository exploatationReportRepository, ModelMapper modelMapper) {
        this.exploatationReportRepository = exploatationReportRepository;
        this.modelMapper = modelMapper;
    }

    public ExploatationReportDTO getExploatationReportByVehicleId(Long vehicleId) {
        return this.entityToDtoMapper(this.exploatationReportRepository
                .getExploatationReportByVehicleId(vehicleId));
    }

    private ExploatationReportDTO entityToDtoMapper(ExploatationReport exploatationReport) {
        return modelMapper.map(exploatationReport, ExploatationReportDTO.class);
    }
}
